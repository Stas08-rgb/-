local gui = Instance.new("ScreenGui")
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false
gui.Parent = game:GetService("CoreGui")

local bg = Instance.new("Frame")
bg.Size = UDim2.new(1, 0, 1, 0)
bg.BackgroundColor3 = Color3.new(0, 0, 0)
bg.Parent = gui

-- Градиент на фоне
local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
	ColorSequenceKeypoint.new(1, Color3.fromRGB(10, 10, 40))
}
gradient.Rotation = 270
gradient.Parent = bg

-- Обычные звёзды
for i = 1, 100 do
	local star = Instance.new("Frame")
	star.Size = UDim2.new(0, 2, 0, 2)
	star.Position = UDim2.new(math.random(), 0, math.random(), 0)
	star.BackgroundColor3 = Color3.new(1, 1, 1)
	star.BorderSizePixel = 0
	star.ZIndex = 1
	star.Parent = bg

	task.spawn(function()
		while true do
			-- плавное движение
			star:TweenPosition(UDim2.new(math.random(), 0, math.random(), 0), "Out", "Sine", 3, true)
			-- мерцание
			star:TweenTransparency(math.random(), "Out", "Sine", 2, true)
			task.wait(3)
		end
	end)
end

-- Падающие звёзды
for i = 1, 5 do
	task.spawn(function()
		while true do
			local shootingStar = Instance.new("Frame")
			shootingStar.Size = UDim2.new(0, 3, 0, 3)
			shootingStar.BackgroundColor3 = Color3.new(1, 1, 1)
			shootingStar.BorderSizePixel = 0
			shootingStar.ZIndex = 2
			shootingStar.Position = UDim2.new(math.random(), 0, -0.1, 0)
			shootingStar.Parent = bg

			-- падает по диагонали
			shootingStar:TweenPosition(UDim2.new(math.random(), 0, 1.2, 0), "Out", "Linear", 2, true)
			task.wait(2.5)
			shootingStar:Destroy()
			task.wait(math.random(5, 15)) -- иногда падает
		end
	end)
end

-- Текст "Loading script..."
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 50)
title.Position = UDim2.new(0, 0, 0.05, 0)
title.Text = "Loading script..."
title.TextColor3 = Color3.new(1, 1, 1)
title.BackgroundTransparency = 1
title.Font = Enum.Font.SourceSansBold
title.TextSize = 36
title.ZIndex = 10
title.Parent = bg

-- Анимация точек
task.spawn(function()
	local baseText = "Loading script"
	local dots = 0
	while true do
		dots = (dots % 3) + 1
		title.Text = baseText .. string.rep(".", dots)
		task.wait(0.5)
	end
end)

-- Прогресс бар
local barBg = Instance.new("Frame")
barBg.Size = UDim2.new(0.8, 0, 0, 30)
barBg.Position = UDim2.new(0.1, 0, 0.75, 0)
barBg.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
barBg.ZIndex = 5
barBg.Parent = bg

local bar = Instance.new("Frame")
bar.Size = UDim2.new(0, 0, 1, 0)
bar.BackgroundColor3 = Color3.new(0, 0.5, 1)
bar.ZIndex = 6
bar.Parent = barBg

local percentText = Instance.new("TextLabel")
percentText.Size = UDim2.new(1, 0, 1, 0)
percentText.Text = "0%"
percentText.BackgroundTransparency = 1
percentText.TextColor3 = Color3.new(1, 1, 1)
percentText.Font = Enum.Font.SourceSansBold
percentText.TextSize = 20
percentText.ZIndex = 7
percentText.Parent = barBg

-- Плавная загрузка (4 минуты)
task.spawn(function()
	local totalTime = 240
	for i = 0, totalTime do
		local percent = math.floor((i / totalTime) * 100)
		bar:TweenSize(UDim2.new(i / totalTime, 0, 1, 0), "Out", "Sine", 1, true)
		percentText.Text = percent .. "%"
		task.wait(1)
	end
end)
